!function(e,t,n){function r(e){return e.toLowerCase()}function o(e){var t=/\.(\w+?)$/.exec(r(e)),n=t?t[1]:null;return~k(n,["bmp","bpg","gif","jpeg","jpg","png","tiff","webp"])?d:n}function c(){function e(){t.length?v(function(){new i(t.shift()).done(e).each(r).error(o)},4):n()}var t=Array.prototype.slice.call(arguments,0),n=A,r=A,o=A,c={done:function(e){return n=e,c},error:function(e){return o=e,c},each:function(e){return r=e,c}};return e(),c}function i(e){function r(){g=0,w=0,b=n.extend(!0,{},e),x=i.externalAssetServer,x&&!p.test(x)&&(x="//"+x),n.each(b,function(t,r){return n.isEmptyObject(r)?!0:(n.each(r,function(e,t){t&&t!==!0&&g++}),void(e[t]={}))})}function s(e,t){f.add(e,t)}function u(e,t){if(s(e,t),L(e,t),++w==g){if(r(),!g)return C(e,t);h()}}function h(){return g||r()&&!g&&v(C,4),n.each(b,function(e,r){n.each(r,function(r,o){function c(){u(e,r)}if(!o)return!0;if(o===!0)return s(e,r),!0;switch(!x||p.test(o)||l.test(o)||(o=x+("/"==o.substr(0,1)?"":"/")+o),l.test(o)&&!p.test(o)&&(o="//"+o),"undefined"==typeof i.cacheBuster||~o.indexOf("?")||(o+="?v="+i.cacheBuster),e){case"css":a(o,c,function(t){B(e,r,o,t)});break;case"js":n.ajax({url:o,cache:!0,crossDomain:!!x,dataType:"script",success:c,error:function(){B(e,r,o),c()}});break;case"hbs":n.ajax({url:o,cache:!0,crossDomain:!!x,dataType:"html",success:function(e){n(m).append(e),c()},error:function(){B(e,r,o),c()}});break;case d:n(t.createElement(d)).on("load",c).on("error",function(){B(e,r,o),c()}).attr("src",o);break;default:throw O+e}})}),S}if(arguments.length>1)return c.apply(this,arguments);var g,w,b,x,j,k,S=this,C=A,L=A,B=A;if(typeof e===y){if(j=e,!(k=o(j)))throw T+j;e={},e[k]={},e[k][j]=j}else if(!n.isPlainObject(e))throw E+e;return S.each=function(e){return L=e,S},S.done=function(e){return C=e,S},S.error=function(e){return B=e,S},S.on=function(){return i.on.apply(this,arguments),S},h()}function a(o,c,i){var a,s,u,f=navigator.userAgent,l=/Gecko\//.test(f),p=/AppleWebKit\//.test(f),d=t[m]||n(m)[0],y=/^(\w*:?\/\/)?([^\/]+)\/(.+)$/,i=i||A;if(l?a=t.createElement("style"):(a=t.createElement("link"),a.href=o,a.rel="stylesheet",a.type="text/css"),l||p)if(u=v(function(){b(s),i(S),c()},3e3),l)a.textContent='@import "'+o+'"',s=w(function(){try{a.sheet&&a.sheet.cssRules.length&&(b(s),x(u),c())}catch(e){}},h);else{var g,k,T,E=y.exec(o),O=!1;E&&E[1]&&(O=!0,g=r(E[1]),"//"==n.trim(g)&&(g=e.location.protocol+"//"),k=r(E[2]),T=E[3]),s=w(function(){n.each(t.styleSheets,function(e,t){var n,i,a,f,h=!1,l=t.href;return O?(l&&(n=y.exec(l)),n&&(i=r(n[1]),a=r(n[2]),f=n[3],h=i==g&&a==k&&f==T)):h=l&&~l.indexOf(o),h?(x(u),b(s),c(),!1):void 0})},h)}else j?a.onreadystatechange=function(){if("complete"==this.readyState){try{n.trim(this.styleSheet.cssText)||i(C)}catch(e){i(e.message)}c()}}:a.onload=c;j||(a.onerror=function(){i(L),c()}),d.appendChild(a)}function s(){function e(e,r){if("object"==typeof c[e]){var o=c[e][u]||[];n.each(r,function(r,i){var a=c[e][i]||[],s=o.concat(a);n.each(s,function(){this.call(t,e,i)})})}}var t=this,r={},c={};t.add=function(t,n){r[t]||(r[t]=[]);var o=n.split(u);r[t]=r[t].concat(o),e(t,o)},t.on=function(e,t,n){n=n||u,c[t]||(c[t]={}),c[t][n]||(c[t][n]=[]),c[t][n].push(e)},t.has=function(e,c){var i=arguments,a=!0;if(1===i.length&&typeof i[0]===y&&(c=i[0],e=o(c),!e))throw B+c;if(typeof e===y){if(!r[e])return!1;if(typeof c==y)return-1!==c.indexOf(u)?a=t.has(e,c.split(u)):!!~k(c,r[e]);if(typeof c==g)return n.each(c,function(n,r){if(typeof r!=y)throw D+i;return a=t.has(e,r)}),a}if(1==i.length&&typeof e==g)return n.each(e,function(e,n){return a=t.has(e,n)}),a;throw D+i}}var u="|",f=new s,h=99,l=/^(?:(?:\w+:)?\/\/)?(?:[^\/\.]+\.)+[^\/\.]+/,p=/^(?:\w+:)?\/\//,d="img",y="string",g="object",m="head",v=e.setTimeout,w=e.setInterval,b=e.clearInterval,x=e.clearTimeout,j=e.attachEvent,A=n.noop,k=n.inArray,T=1,E=2,O=3,S=4,C=5,L=6,B=7,D=8;n.extend(i,{on:f.on,guessAssetType:o,hasLoaded:f.has,load:function(){return c.apply(this,arguments)}}),this.AssetLoader=i}(window,document,jQuery);
