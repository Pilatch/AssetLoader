!function(t,e,n){function r(t){return t.toLowerCase()}function o(t){var e=/\.(\w+?)$/.exec(r(t)),n=e?e[1]:null;return~k(n,["bmp","bpg","gif","jpeg","jpg","png","tiff","webp"])?d:n}function c(){function t(){e.length?v(function(){new i(e.shift()).done(t).each(r).error(o)},4):n()}var e=Array.prototype.slice.call(arguments,0),n=A,r=A,o=A,c={done:function(t){return n=t,c},error:function(t){return o=t,c},each:function(t){return r=t,c}};return t(),c}function i(t){function r(){g=0,w=0,b=E(!0,{},t),x=i.externalAssetServer,x&&!p.test(x)&&(x="//"+x),T(b,function(e,r){return n.isEmptyObject(r)?!0:(T(r,function(t,e){e&&e!==!0&&g++}),void(t[e]={}))})}function a(t,e){f.add(t,e)}function s(t,e){if(a(t,e),I(t,e),++w==g){if(r(),!g)return D(t,e);h()}}function h(){return g||r()&&!g&&v(D,4),T(b,function(t,r){T(r,function(r,o){function c(){s(t,r)}if(!o)return!0;if(o===!0)return a(t,r),!0;switch(!x||p.test(o)||l.test(o)||(o=x+("/"==o.substr(0,1)?"":"/")+o),l.test(o)&&!p.test(o)&&(o="//"+o),"undefined"==typeof i.cacheBuster||~o.indexOf("?")||(o+="?v="+i.cacheBuster),t){case"css":u(o,c,function(e){$(t,r,o,e)});break;case"js":S({url:o,cache:!0,crossDomain:!!x,dataType:"script",success:c,error:function(){$(t,r,o),c()}});break;case"hbs":S({url:o,cache:!0,crossDomain:!!x,dataType:"html",success:function(t){n(m).append(t),c()},error:function(){$(t,r,o),c()}});break;case d:n(e.createElement(d)).on("load",c).on("error",function(){$(t,r,o),c()}).attr("src",o);break;default:throw B+t}})}),O}if(arguments.length>1)return c.apply(this,arguments);var g,w,b,x,j,k,O=this,D=A,I=A,$=A;if(typeof t==y){if(j=t,!(k=o(j)))throw C+j;t={},t[k]={},t[k][j]=j}else if(!n.isPlainObject(t))throw L+t;return O.each=function(t){return I=t,O},O.done=function(t){return D=t,O},O.error=function(t){return $=t,O},O.on=function(){return i.on.apply(this,arguments),O},h()}function u(o,c,i){var u,a,s,f=navigator.userAgent,l=/Gecko\//.test(f),p=/AppleWebKit\//.test(f),d=e[m]||n(m)[0],y=/^(\w*:?\/\/)?([^\/]+)\/(.+)$/,i=i||A;if(l?u=e.createElement("style"):(u=e.createElement("link"),u.href=o,u.rel="stylesheet",u.type="text/css"),l||p)if(s=v(function(){b(a),i(D),c()},3e3),l)u.textContent='@import "'+o+'"',a=w(function(){try{u.sheet&&u.sheet.cssRules.length&&(b(a),x(s),c())}catch(t){}},h);else{var g,k,E,S=y.exec(o),C=!1;S&&S[1]&&(C=!0,g=r(S[1]),"//"==O(g)&&(g=t.location.protocol+"//"),k=r(S[2]),E=S[3]),a=w(function(){T(e.styleSheets,function(t,e){var n,i,u,f,h=!1,l=e.href;return C?(l&&(n=y.exec(l)),n&&(i=r(n[1]),u=r(n[2]),f=n[3],h=i==g&&u==k&&f==E)):h=l&&~l.indexOf(o),h?(x(s),b(a),c(),!1):void 0})},h)}else j?u.onreadystatechange=function(){if("complete"==this.readyState){try{O(this.styleSheet.cssText)||i(I)}catch(t){i(t)}c()}}:u.onload=c;j||(u.onerror=function(){i($),c()}),d.appendChild(u)}function a(){function t(t,n){if("object"==typeof r[t]){var o=r[t][s]||[];T(n,function(n,c){var i=r[t][c]||[],u=o.concat(i);T(u,function(){this.call(e,t,c)})})}}var e=this,n={},r={};e.add=function(e,r){n[e]||(n[e]=[]);var o=r.split(s);n[e]=n[e].concat(o),t(e,o)},e.on=function(t,e,n){n=n||s,r[e]||(r[e]={}),r[e][n]||(r[e][n]=[]),r[e][n].push(t)},e.has=function(t,r){var c=arguments,i=!0;if(1===c.length&&typeof c[0]==y&&(r=c[0],t=o(r),!t))throw G+r;if(typeof t==y){if(!n[t])return!1;if(typeof r==y)return-1!==r.indexOf(s)?i=e.has(t,r.split(s)):!!~k(r,n[t]);if(typeof r==g)return T(r,function(n,r){if(typeof r!=y)throw K+c;return i=e.has(t,r)}),i}if(1==c.length&&typeof t==g)return T(t,function(t,n){return i=e.has(t,n)}),i;throw K+c}}var s="|",f=new a,h=99,l=/^(?:(?:\w+:)?\/\/)?(?:[^\/\.]+\.)+[^\/\.]+/,p=/^(?:\w+:)?\/\//,d="img",y="string",g="object",m="head",v=t.setTimeout,w=t.setInterval,b=t.clearInterval,x=t.clearTimeout,j=t.attachEvent,A=n.noop,k=n.inArray,T=n.each,E=n.extend,O=n.trim,S=n.ajax,C=1,L=2,B=3,D=4,I=5,$=6,G=7,K=8;E(i,{on:f.on,guessAssetType:o,hasLoaded:f.has,load:function(){return c.apply(this,arguments)}}),AssetLoader=i}(window,document,jQuery);
